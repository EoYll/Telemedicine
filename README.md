# Telemedicine 医疗影像处理系统

基于 Qt 和 OpenCV 开发的医疗影像处理系统，提供了 CT 图像读取、处理、保存与显示功能，同时整合了 MySQL 数据库用于患者信息管理。

## 功能概述

### 核心影像处理功能
- CT 图像读取与加载
- CT 图像处理（灰度转换等操作）
- 处理结果保存功能
- 图像显示与可视化
- 霍夫圆变换检测（医学结构识别）

### 患者信息管理
- 患者数据数据库管理
- 患者照片显示功能
- 定时数据更新机制
- 表格选择联动展示患者信息

## 技术栈

### 核心框架
- **Qt 5/6** - 跨平台 GUI 开发框架
- **OpenCV** - 计算机视觉与图像处理库

### 数据库
- **MySQL** - 关系型数据库管理系统
- **Qt SQL** - Qt 数据库访问模块

### 高级功能
- **QTimer** - 定时任务管理

## 安装与配置

### 环境依赖
1. **Qt 开发环境**（5.15+ 或 6.x 版本）
2. **OpenCV 库**（4.x 版本）
3. **MySQL Server**（8.0+ 版本）

### 数据库配置
1. 创建 MySQL 数据库：
   ```sql
   CREATE DATABASE patient;
   ```
2. 设置数据库连接参数（修改源代码）：
   ```cpp
   sqldb.setHostName("localhost");
   sqldb.setDatabaseName("patient");
   sqldb.setUserName("root");
   sqldb.setPassword("123456"); // 修改为实际密码
   ```

### 编译与运行
1. 使用 Qt Creator 打开 `.pro` 项目文件
2. 配置构建套件（确保包含 OpenCV）
3. 构建并运行项目

## 使用说明

### 主界面功能
- **患者管理**：通过表格查看和选择患者记录
- **图像处理**：加载、处理和保存 CT 图像
- **诊断工具**：医学影像分析功能（如霍夫圆检测）

### 操作流程
1. **患者选择**：
   - 点击患者表格行选择记录
   - 系统自动显示患者照片

2. **影像处理**：
   - 点击"开始处理"按钮执行 CT 分析
   - 使用图像显示区域观察处理结果
   - 通过文件菜单保存处理后的影像

### 注意事项
1. 确保 MySQL 服务正在运行
2. 首次运行前创建 `patient` 数据库
3. CT 图像处理可能需要较长时间（系统使用多线程避免界面冻结）

## 文件结构
| 文件/目录         | 说明                          |
|-------------------|-------------------------------|
| `Telemedicine.h`  | 主窗口类声明                  |
| `Telemedicine.cpp`| 主功能实现                    |
| `ui_Telemedicine.h`| Qt Designer 生成的UI代码      |
| `*.ui`            | Qt 界面设计文件               |
| `CMakeLists.txt` / `.pro` | 构建系统文件           |

## 后续功能扩展
1. 添加更多医学影像处理算法
2. 实现远程会诊功能
3. 集成 DICOM 医疗影像标准
4. 添加患者预约系统

> **注意**：系统默认使用本地 MySQL 服务，如需远程连接请修改主机名并确保防火墙设置允许数据库连接。

